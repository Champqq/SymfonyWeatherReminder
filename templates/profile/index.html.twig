{% extends 'base.html.twig' %}

{% block title %}–ü—Ä–æ—Ñ—ñ–ª—å{% endblock %}

{% block body %}
    <h1>–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>

    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>–†–æ–ª—ñ:</strong> {{ user.roles|join(', ') }}</p>

    <h2>–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
    <form method="post">
        <label for="default_city">–ú—ñ—Å—Ç–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:</label>
        <input type="text" id="default_city" name="default_city" value="{{ user.defaultCity ?? 'Kyiv' }}"><br><br>

        <label for="phone_number">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É:</label>
        <input type="text" id="phone_number" name="phone_number" value="{{ user.phoneNumber ?? '' }}"><br><br>

        <button type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
    </form>

    <h2>–í–∞—à—ñ –ø—ñ–¥–ø–∏—Å–∫–∏</h2>

    <ul>
        {% for sub in subscriptions %}
            <li>
                <strong>{{ sub.city }}</strong> –æ {{ sub.time|date('H:i') }} ‚Äî
                {% if sub.enabled %}–ê–∫—Ç–∏–≤–Ω–∞{% else %}–í–∏–º–∫–Ω–µ–Ω–∞{% endif %}
                <br>
                <a href="{{ path('edit_subscription_web', {'id': sub.id}) }}">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a>
                <form method="post" action="{{ path('subscription_delete', {'id': sub.id}) }}" style="display:inline">
                    <button type="submit" onclick="return confirm('–í–∏–¥–∞–ª–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É?')">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
                </form>
            </li>
        {% endfor %}
    </ul>


    <a href="{{ path('subscription_new') }}">‚¨Ö –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É</a>
    <a href="{{ path('home') }}">‚¨Ö –ù–∞–∑–∞–¥ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É</a>
{% endblock %}
